<ul>
  {{#each fieldTypes}}
    <li>
      {{name}}
      <button type="button" class="btn" {{action addField this}}>add</button>
    </li>
  {{/each}}
</ul>

<form class="wy-form-stacked" {{action createModel on="submit"}}>

  <fieldset>
    <legend>New Content Type</legend>
    <div {{bind-attr class="wy-control-group errors.name:wy-control-group-error"}}>
      <label>Form Name</label>
      <div class="wy-control">
        {{view Ember.TextField
          onEvent="keyUp"
          action="lowerName"
          value=name
          placeholder="ex: articles"
        }}
        <span class="wy-form-message">Pages built from this will live at /{{#if name}}{{name}}{{else}}articles{{/if}}/.</span>
        {{#each errors.name}}
          <span class="wy-form-message">{{this}}</span>
        {{/each}}
      </div>
    </div>
    <div class="wy-control-group">
      <label>What kind of data will go in this form?</label>
      <div class="wy-control">
        <label><input type="radio" name="preset"> Editorial content.</label>
        <label><input type="radio" name="preset"> Related objects in a set.</label>
        <label><input type="radio" name="preset"> A single object that I change often.</label>
      </div>
    </div>
  </fieldset>

  <fieldset>
    <legend>Fields</legend>
    {{#each errors.fields}}
      <span class="wy-form-message">{{this}}</span>
    {{/each}}
    {{#each fields}}
      <div class="wy-control-group">
        <label>{{type.name}}</label>
        <div class="wy-control">
          {{input value=name placeholder="name"}}<br>
          {{#each errors.name}}
            <span class="wy-form-message">{{this}}</span>
          {{/each}}
          <label>{{input type="checkbox" checked=showInCms}} Show in CMS</label><br>
          {{input value=label placeholder="label"}}<br>
          {{input value=placeholder placeholder="placeholder"}}<br>
          {{input value=help placeholder="help text"}}
        </div>
      </div>
    {{/each}}
  </fieldset>

  {{#if isValid}}
    <button type="submit" class="btn">Create</button>
  {{/if}}
</form>

{{#if editingControl}}

<nav data-toggle="wy-nav-shift" class="wy-nav-side wy-nav-side-widget-edit" data-spy="affix" style="display:block">
  <div class="wh-form-builder-note">
    <div class="wh-logo"></div>
  </div>
  <ul class="wh-form-builder-tabs">
    <li {{action stopEditing}}>Add field</li>
    <li class="active">Edit details <span class="icon icon-arrow-right"></span></li>
  </ul>
  <form class="wy-form-stacked">
    <div class="wy-control-group">
      {{#unless editingControl.locked}}
        <div class="wy-form-halves">
          <label for="label" {{bind-attr for="view.label.elementId"}}>Field label <i class="icon icon-question-sign"></i></label>
          {{input valueBinding="editingControl.label" viewName="label"}}
        </div>
      {{/unless}}
      <div class="wy-form-halves">
        <label {{bind-attr for="view.placeholder.elementId"}}>Placeholder value <i class="icon icon-question-sign"></i></label>
        {{input valueBinding="editingControl.placeholder" viewName="placeholder"}}
      </div>
      <div class="wy-form-full">
        <label {{bind-attr for="view.help.elementId"}}>Instructions for user <i class="icon icon-question-sign"></i></label>
        {{textarea valueBinding="editingControl.help" viewName="help"}}
      </div>
      {{#unless editingControl.locked}}
        <div class="wy-form-full">
          <label for="check-example">Required <i class="icon icon-question-sign"></i></label>
          <div class="wy-control">
            <label class="wy-checkbox">
              {{view Ember.Checkbox checkedBinding="editingControl.required"}}
              Make this field required.
            </label>
          </div>
        </div>
      {{/unless}}
    </div>

    {{partial editingControl.controlType.infoPartialPath}}

    <hr>

    <div class="wy-btn-group">
      {{#if editingControl.locked}}{{else}}
        <button class="btn btn-danger icon icon-remove-sign" {{action "deleteControl" editingControl}}> Delete this field</button>
      {{/if}}
    </div>
  </form>
</nav>

{{else}}

<nav data-toggle="wy-nav-shift" class="wy-nav-side" data-spy="affix">
  <div class="wh-form-builder-note">
    <div class="wh-logo"></div>
  </div>
  <ul class="wh-form-builder-tabs">
    <li class="active">Add field <span class="icon icon-arrow-down"></span></li>
    <li>Edit details</li>
  </ul>
  {{#view "draggable"}}
    {{#each controlTypeGroups}}
      <dl>
        <dt>{{name}}</dt>
        {{#each controlTypes}}
          <dd data-id="{{unbound id}}"><a {{bind-attr class=":wh-form-choice :icon iconClass"}} {{action "addControl" this}}> {{name}}</a></dd>
        {{/each}}
      </dl>
    {{/each}}
  {{/view}}
</nav>

{{/if}}
